@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .chat-wrapper {
    @apply bg-white rounded-xl shadow-xl max-w-6xl w-full max-h-screen overflow-hidden flex flex-col;
  }

  .chat-header {
    @apply px-6 py-3 bg-gradient-to-r from-primary to-secondary text-white border-b border-gray-200 flex-shrink-0;
  }

  .chat-header h1 {
    @apply text-2xl font-bold mb-1;
  }

  .chat-header p {
    @apply text-gray-100 text-xs opacity-85;
  }

  .chat-header-controls {
    @apply mt-2 flex items-center justify-between gap-3 text-sm;
  }

  .user-info {
    @apply flex items-center gap-2 px-3 py-1 bg-white bg-opacity-20 rounded backdrop-blur-sm;
  }

  .user-avatar {
    @apply w-6 h-6 rounded-full bg-white text-primary font-bold flex items-center justify-center text-xs;
  }

  .user-info-text {
    @apply text-white;
  }

  .user-info-text p {
    @apply text-xs opacity-85;
  }

  .change-nickname-btn {
    @apply text-xs font-semibold px-3 py-1 rounded bg-white text-primary hover:bg-opacity-90 transition-all duration-200 cursor-pointer;
  }

  .message-form {
    @apply px-6 py-3 border-b border-gray-200 flex-shrink-0;
  }

  .form-group {
    @apply mb-3;
  }

  .form-group label {
    @apply block mb-1 text-gray-700 font-semibold text-xs;
  }

  .form-group textarea {
    @apply w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-sans resize min-h-12 transition-all focus:outline-none focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-20 disabled:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-60 placeholder-gray-400;
  }

  .submit-btn {
    @apply w-full py-2 bg-gradient-purple text-white rounded-lg font-semibold text-sm cursor-pointer transition-all shadow-sm hover:shadow-md hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-60 disabled:cursor-not-allowed;
  }

  .error-message {
    @apply bg-red-50 border-l-4 border-red-500 text-red-700 px-3 py-2 rounded text-xs font-medium mb-3;
  }

  .messages-section {
    @apply flex-1 overflow-y-auto px-6 py-3;
  }

  .messages-section h2 {
    @apply text-sm font-bold text-gray-700 mb-2 sticky top-0 bg-white bg-opacity-90 backdrop-blur-sm py-1;
  }

  .no-messages {
    @apply text-center text-gray-500 py-12 bg-gray-50 rounded-lg border border-dashed border-gray-300 text-sm;
  }

  .no-messages p {
    @apply text-sm font-medium;
  }

  .messages-list {
    @apply flex flex-col gap-2;
  }

  .message-item {
    @apply bg-white border border-gray-200 rounded-xl px-4 py-3 shadow-sm hover:shadow-md transition-all duration-200;
    animation: slideIn 0.3s ease-out;
  }

  .message-item.blocked {
    @apply border-red-200 bg-white;
    box-shadow: -3px 0 0 0 #ef4444, 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .message-item.blocked:hover {
    @apply shadow-md;
    box-shadow: -3px 0 0 0 #ef4444, 0 4px 12px rgba(239, 68, 68, 0.1);
  }

  .message-item.approved {
    @apply border-gray-200;
  }

  .message-header {
    @apply flex items-center justify-between gap-3 mb-2;
  }

  .message-username {
    @apply font-semibold text-gray-900 text-sm flex items-center gap-2;
  }

  .message-avatar {
    @apply w-6 h-6 rounded-full font-bold flex items-center justify-center flex-shrink-0 text-white text-xs shadow-sm;
  }

  .message-time {
    @apply text-xs text-gray-400 font-normal;
  }

  .message-content {
    @apply text-gray-700 break-words leading-relaxed text-sm ml-8;
  }

  .message-blocked-content {
    @apply text-red-600 italic text-sm font-medium ml-8 py-1.5;
  }

  .message-rejection-reason {
    @apply text-xs font-medium text-red-600 mt-1;
  }

  .message-status {
    @apply inline-block px-2 py-0.5 rounded-md text-xs font-semibold whitespace-nowrap;
  }

  .message-status.blocked {
    @apply bg-red-100 text-red-700;
  }

  .message-status.approved {
    @apply hidden;
  }

  /* Custom scrollbar */
  .chat-wrapper {
    scrollbar-width: thin;
    scrollbar-color: #667eea #f1f1f1;
  }

  .chat-wrapper::-webkit-scrollbar {
    width: 6px;
  }

  .messages-section::-webkit-scrollbar {
    width: 6px;
  }

  .chat-wrapper::-webkit-scrollbar-track,
  .messages-section::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
  }

  .chat-wrapper::-webkit-scrollbar-thumb,
  .messages-section::-webkit-scrollbar-thumb {
    background: #667eea;
    border-radius: 10px;
  }

  .chat-wrapper::-webkit-scrollbar-thumb:hover,
  .messages-section::-webkit-scrollbar-thumb:hover {
    background: #764ba2;
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
